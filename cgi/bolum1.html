<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1254">
<link rel="shortcut icon" href="/grafik/sinanilyas.ico">
<title>[ www.sinanilyas.com ]</title>
<link rel="stylesheet" type="text/css" href="/css/ortak.css">

</head>

<body>

<table cellspacing="0" cellpadding="0" align="center" border="0" width= "99%">
	<tr style="text-align: center;">
		<td style="background: url(/grafik/cerceve-sol-ust.gif); width:29px; height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-ust.gif); height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-sag-ust.gif); width:29px; height: 29px;"></td>
	</tr>
	<tr>
		<td style="background: url(/grafik/cerceve-sol.gif); width: 29px;"></td>
		<td style="padding-left: 10px; padding-right: 10px; padding-top: 30px; padding-bottom: 10px;">
			<p class="sayfabasligi">Bölüm 1</p>

			<!-- Gövde metni baþlangýcý -->

<p></p>

Programlama dili olarak Perl'ü seçtik, çünkü basit bir dil, kolay öðreniliyor ve karmaþýk problemleri halledebilecek kadar da güçlü. Ayrýca hem ücretsiz hem de bulunmasý çok kolay. Zaten çok büyük bir ihtimalle UNIX server'ýnýzda ya da NT makinenizde kuruludur. Yine de download etmeniz gerekiyorsa <a href="http://www.perl.com" target="perl">www.perl.com</a>'u ziyaret ediniz. Perl ile yazdýðýnýz scriptleri derlemenize gerek yoktur. Scriplerinizi yazar ve çalýþtýrýrsýnýz (Daha doðrusu web server'ýnýz çalýþtýrýr). Script kendi baþýna sadece text kodudur. Aslýnda bütün iþi web server'ýnýzda kurulu olan Perl yorumlayýcýsý yapar. Bunun size saðladýðý avantaj yazdýðýnýz scriptleri ya hiçbir deðiþiklik yapmadan ya da çok küçük bir iki deðiþiklikle istediðiniz servera kopyalayabilecek olmanýz. Dezavantajý ise scripti çalýþtýrmadan hatalý olup olmadýðýný anlayamamanýz.

<p>
Perl scriptlerinizi kendi bilgisayarýnýzda istediðiniz text editörü ile (Notepad, SimpleText vb.) ya da UNIX'te yazabilirsiniz. UNIX kullanýyorsanýz pico'yu deneyin. Basit ve kullanýmý kolay bir text editörü. UNIX komut satýrýnda <font face="courier new">pico &lt;dosya adý&gt;</font> yazarak yeni bir dosya ya da varolan bir dosyayý açabilirsiniz. Pico ile ilgili daha fazla bilgi almak için <font face="courier new">man pico</font> yazýnýz.

<p>
Scriptlerinizi kendi makinenizde yazýp FTP ile gönderecekseniz dikkat etmeniz gereken husus binary deðil ASCII olarak göndermek. CuteFTP kullanýyorsanýz sorun yok. Ama WS FTP programý Perl dosyalarý için genelde ASCII deðil binary kullanýyor.

<p>
Scriptlerinizi server'ýnýzda CGI scriptlerini çalýþtýrabileceðiniz dizine (public_html ya da /home/httpd/cgi-bin olabilir) upload etmelisiniz. Baþka bir dizine upload etmiþseniz daha sonra da taþýma iþlemini yapabilirsiniz. UNIX'te taþýma iþlemini þu komutla yapabilirsiniz:

<ul>
<font face="courier new">mv &lt;taþýnacak dosya&gt; &lt;taþýnacaðý dizin&gt;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daha fazla bilgi için <font face="courier new">man mv</font>)
</ul>

<p>
Scriptinizi gerekli dizine taþýdýktan sonra bu dosyayý &quot;çalýþtýrýlabilir&quot; hale getirmeniz gerekir. Bunun için kullanmanýz gereken komut:

<p>
<ul>
<font face="courier new">chmod 755 &lt;dosya adý&gt;</font>
</ul>

<p>
Bu komut dosyanýn sizin tarafýnýzdan okunabilir, yazýlabilir ve çalýþtýrýlabilir, diðer bütün kullanýcýlar tarafýndan da okunabilir ve çalýþtýrýlabilir hale getirilmesini saðlar.

<p>
Ayný iþi çoðu FTP programý ile yapabilirsiniz. Fakat dikkat etmeniz gereken kýsým bütün kullanýcýlara okuma ve çalýþtýrma hakký vermek ve tabi ki sadece kendinize yazma hakký vermek.

<p>
<b>Son bir not:</b> UNIX ve Perl'de büyük küçük harf ayrýmý vardýr. Yani UNIX'te &quot;perl&quot; ile &quot;PERL&quot; ayný þey deðildir. Bu yüzden Caps Lock tuþunuza dikkat edin :)

<p>
<font color="green" size=5>Perl Scriptinin Temelleri<font color="black" size=2>

<p>
Bir HTML dosyasýnýn yapýsýnda &lt;head&gt; ve &lt;body&gt; etiketlerinin mutlaka bulunmasý gerektiði gibi bir Perl scriptinin ilk satýrýnda

<p>
<ul>
<font face="courier new">#!/usr/bin/perl</font>
</ul>

<p>
satýrýnýn mutlaka bulunmasý gerekir. Bu satýr server'a bu dosyanýn bir Perl scripti olduðunu ve Perl'ün nerede olduðunu söyler. Bu satýr sisteminizde Perl'ün nerede olduðuna baðlý olarak deðiþebilir. Bunu öðrenmenin en emin yolu <font face="courier new">which perl</font> ya da <font face="courier new">whereis perl</font> komutunu kullanmaktýr. Perl sisteminizde kurulu ise Perl'ün hangi dizinde olduðu yazacaktýr.

<p>
Server'a Perl'ün yerini tanýttýktan sonra Perl kodlarýnýzý yazabilirsiniz. Hatýrlamanýz gereken önemli bir konu Perl'de büyük küçük harf ayrýmýnýn olduðu. Yani Perl için &quot;x&quot; ile &quot;X&quot; ayný þeyler deðildir. Ayrýca çoðu Perl kodunun sonunda noktalý virgül (;) kullanmalýsýnýz (Bazý döngü ve özel yapýlar hariç).

<p>
Þimdi birlikte ilk scriptimizi yazalým. Yeni bir dosya oluþturun ve þunlarý yazýn. (Daha iyi aklýnýzda kalmasý açýsýndan Kopyala - Yapýþtýr yöntemini kullanmamanýzý tavsiye ederim.)

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<br>
print &quot;Merhaba\n&quot;;
</font>
</ul>

<p>
Bu dosyayý &quot;ilkscript.pl&quot; adýyla kaydedin ve UNIX komut satýrýnda þunu yazýn:

<p>
<ul>
<font face="courier new">chmod 755 ilkscript.pl</font>
</ul>

<p>
Bu komut dosyanýn eriþim yetkilerini deðiþtirerek onu çalýþtýrýlabileceðiniz hale getirir. Bunu her yeni script yazýþýnýzda yapmanýz gerekir. Fakat varolan bir dosya üzerinde deðiþiklik yaptýðýnýz zaman bu komutu vermenize gerek yoktur.

<p>
Þimdi, yazdýðýnýz scripti çalýþtýrmanýz için vermeniz gereken komut:

<p>
<ul>
<font face="courier new">./ilkscript.pl</font>
</ul>

<p>
Eðer herþey yolunda gitmiþse ekranda &quot;Merhaba&quot; yazmasý gerekir.

<p>
<table border="1" bgcolor="#FEFEDE" cellpadding="8">
<tr><td width="500">
<font face="tahoma" size="2">
<font color="navy"><b>&nbsp;Olmadý mý?</b></font>
<p>
Eðer scriptiniz çalýþmazsa þunlarý kontrol edin:
<p>
<font color="navy"><b>1.</b></font> Scriptinizi ASCII olarak upload ettiniz mi?
<p>
<font color="navy"><b>2.</b></font> Scriptinizin ilk satýrý <font face="courier new">#!/usr/bin/perl</font> mü?
<p>
<font color="navy"><b>3.</b></font> Perl'ün yeri gerçekten <font face="courier new">#!/usr/bin/perl</font> mü yoksa baþka bir dizinde mi? Perl'ün nerede olduðunu <font face="courier new">which perl</font> ya da <font face="courier new">whereis perl</font> yazarak bulabilirsiniz.
</font>
</td></tr>
</table>

<p>
<font color="green" size=5>CGI Scriptinin Temelleri<font color="black" size=2>

<p>
CGI programlarý ayný zamanda birer Perl scriptidir. Fakat aralarýndaki önemli bir fark CGI programlarýnýn genelde bir web sayfasý üretmesidir. Örneðin bir form gönderildikten sonra mesajýn gönderildiðine dair yeni bir sayfa açýlýr. Eðer yazdýðýnýz script bir HTML sayfasý oluþturacaksa herhangi bir yazý yazdýrmadan önce

<p>
<ul>
<font face="courier new">print "Content-type:text/html\n\n";</font>
</ul>

<p>
satýrýný mutlaka yazmalýsýnýz. Unutulmasý ihtimaline karþý en baþa yazýlmasý daha iyi olur (<font face="courier new">#!/usr/bin/perl</font> satýrýndan sonra tabi).

<p>
Bu satýr web browser'ýnýza kendisine gönderilecek bilginin bir HTML sayfasý olduðunu söyler. Eðer bu satýrý yazmayý unutursanýz ya da bu satýrdan önce baþka birþey yazdýrýrsanýz browser &lt;Internal Server Error&gt; (Dahili Server Hatasý) verir.

<p>
Þimdi yaptýðýmýz Perl scriptini biraz deðiþtirelim ve web sayfasý gösteren bir CGI scriptine çevirelim.

<p>
Önce dosyanýn uzantýsýný .cgi olarak deðiþtirelim. UNIX'te bunu

<p>
<ul>
<font face="courier new">mv ilkscript.pl ilkcgi.cgi</font>
</ul>

<p>
komutunu vererek yapabilirsiniz. Daha sonra bu dosyanýn içeriðini þu þekilde deðiþtirin:
<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<p>
print "Content-type:text/html\n\n";<p>
print "&lt;html&gt;&lt;head&gt;&lt;title&gt;Deneme Sayfasý&lt;/title&gt;&lt;/head&gt;\n";<br>
print "&lt;body&gt;\n";<br>
print "&lt;h2&gt;Merhaba&lt;/h2&gt;\n";<br>
print "&lt;/body&gt;&lt;/html&gt;\n";
</font>
</ul>

<p>
<img src="../grafik/ok-1.gif" width="13" height="15" align="absmiddle"> 
<a href="http://www.sinanilyas.com/cgi-bin/ornek/ilkcgi.cgi" target="ornek">Denemek için týklayýn</a>

<p>
Eðer scriptinizdeki deðiþiklikleri UNIX üzerinde yapmýþsanýz eriþim yetkilerini tekrar düzenlemenize gerek yoktur. Ama kendi bilgisayarýnýzda yazýp upload etmiþseniz <font face="courier new">chmod 755 ilkcgi.cgi</font> komutunu verip eriþim yetkilerini deðiþtirin ve <font face="courier new">./ilkcgi.cgi</font> komutu ile scriptinizi çalýþtýrýn. Ekrana HTML kodlarý gelecektir. AMA eðer yazdýðýnýz kodlarda bir hata varsa o zaman ekranda hatanýn kaçýncý satýrda olduðu yazar. Bu da özellikle uzun ve karmaþýk scriptler yazarken olasý hatayý düzeltmemizde bize oldukça kolaylýk saðlar.

<p>
Þimdi de browser'ýnýzýn adres satýrýna tam adresini yazarak scriptinizi çaðýrýn. Browser'ýnýzda &quot;Merhaba&quot; yazdýðýný göreceksiniz.

<p>
<table border="1" bgcolor="#FEFEDE" cellpadding="8">
<tr><td width="500">
<font face="tahoma" size="2">
<font color="navy"><b>Olmadý mý?</b></font>
<p>
Scriptinizin çalýþmamasýnýn nedeni þunlar olabilir:
<p>
<font color="navy"><b>1.</b></font> Eðer karþýnýza &quot;Merhaba&quot; yerine Perl kodlarý çýkmýþsa scriptin uzantýsýný .cgi olatak deðiþtirmemiþ olabilirsiniz. Ya da scriptin bulunduðu dizin CGI programlarýný çalýþtýracak þekilde ayarlanmamýþtýr (CGI scriptlerinizi hangi dizinde çalýþtýrabileceðinizi server'ýnýzýn yöneticisine sormalýsýnýz).
<p>
<font color="navy"><b>2.</b></font> Browser'ýnýz &quot;Internal Server Error&quot; hatasý veriyorsa scriptinizi <font face="courier new">./ilkcgi.cgi</font> komutu ile çalýþtýrýn. Ekranda hatanýn nerede olduðu yazacaktýr.
</font>
</td></tr>
</table>

<p>
Yukarýdaki scripti þu þekilde yazarsak her satýrda <font face="courier new">print</font> yazmaktan kurtuluruz:

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<p>
print "Content-type:text/html\n\n";<p>
print &lt;&lt;HTMLSonu;<br>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Deneme Sayfasý&lt;/title&gt;&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;h2&gt;Merhaba&lt;/h2&gt;<br>
&lt;/body&gt;&lt;/html&gt;<p>
HTMLSonu<br>
;
</font>
</ul>

<p>
<img src="../grafik/ok-1.gif" width="13" height="15" align="absmiddle"> 
<a href="http://www.sinanilyas.com/cgi-bin/ornek/ilkcgi2.cgi" target="ornek">Denemek için týklayýn</a>

<p>
<font face="courier new">print &lt;&lt;HTMLSonu;</font> satýrýnda <font face="courier new">&lt;&lt;</font> ile <font face="courier new">HtmlSonu</font> arasýnda boþluk olmadýðýna dikkat edin.

<p>
Bu sayfada Perl kodlarý, daha anlaþýlýr olmasý açýsýndan satýr girintileri kullanarak yazýlmýþtýr. Perl kodlarýný yazarken mutlaka ilk sütundan baþlayarak yazýlmalýdýr. Özellikle <font face="courier new">HTMLSonu</font> satýrýndan önce kesinlikle boþluk býrakýlmamalýdýr. Eðer býrakýlýrsa scriptiniz çalýþmaz.

<p>
HTML kodlarýný bu yöntemle yazdýrýrsak aþaðýdaki örnekte olduðu gibi <font face="courier new">print</font> komutunu kullanýrken iç içe çift týrnak (&quot;) karakteri kullanmak zorunda olduðumuz zaman çift týrnaktan önce ters bölü (\) karakteri yazmak zorunda kalmayýz.

<p>
<ul>
<font face="courier new">print &quot;&lt;a href=\&quot;http://www.sinanilyas.com/\&quot;&gt;&quot;</font>
</ul>

<p>
<font face="courier new">print</font> komutunda iç içe týrnak karakterleri kullanmak için yukarýdaki gibi çift týrnaktan önce ters bölü karakterini yazmak zorundayýz.

<p><div align="center">

<table border="0">
<tr><td>
<a href="giris.html">
Önceki Sayfa
</a>
</td><td>
<a href="index.html">
Konulara Dön
</a>
</td><td>
<a href="bolum2.html">
Sonraki Sayfa
</a>
</td></tr>
</table>
			<!-- Gövde metni sonu -->

			<p></p>
			

			<p style="text-align: center; font-size: 9px; margin-bottom: 0px;">
			&copy;1997-2005, <a href="http://www.sinanilyas.com/hakkimda" onmouseover="window.status='Özgeçmiþ'; return true;">Sinan ÝLYAS</a>
			</p>
		</td>
		<td style="background: url(/grafik/cerceve-sag.gif); width: 29px;"></td>
	</tr>
	<tr>
		<td style="background: url(/grafik/cerceve-sol-alt.gif); width:29px; height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-alt.gif); height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-sag-alt.gif); width:29px; height: 29px;"></td>
	</tr>
</table>

</body>

</html>
