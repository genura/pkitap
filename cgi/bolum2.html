<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=windows-1254">
<link rel="shortcut icon" href="/grafik/sinanilyas.ico">
<title>[ www.sinanilyas.com ]</title>
<link rel="stylesheet" type="text/css" href="/css/ortak.css">

</head>

<body>

<table cellspacing="0" cellpadding="0" align="center" border="0" width= "99%">
	<tr style="text-align: center;">
		<td style="background: url(/grafik/cerceve-sol-ust.gif); width:29px; height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-ust.gif); height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-sag-ust.gif); width:29px; height: 29px;"></td>
	</tr>
	<tr>
		<td style="background: url(/grafik/cerceve-sol.gif); width: 29px;"></td>
		<td style="padding-left: 10px; padding-right: 10px; padding-top: 30px; padding-bottom: 10px;">
			<p class="sayfabasligi">Bölüm 2</p>

			<!-- Gövde metni baþlangýcý -->

<p></p>

Perl'de iþe yarar programlar yazabilmek için Perl deðiþkenlerini tanýmamýz gerekir. Deðiþken demek, deðerleri saklayacaðýmýz yer demektir. Deðiþkene deðer atadýktan sonra program boyunca bu deðeri geri çaðýrabilir, kullanabilir ve deðiþtirebiliriz. Perl'de 3 çeþit deðiþken mevcuttur: Scalar, Array ve Hash deðiþkenler.

<p>
<font color="green" size=5>Scalar Deðiþkenler<font color="black" size=2>

<p>
Scalar deðiþkenlere tek bir deðer atanýr. Bu deðer bir sayý, bir cümle ya da baþka bir scalar deðiþken olabilir. Scalar deðiþkenlerin adlarýnýn baþýnda <font face="courier new">$</font> iþareti bulunur. Örneðin <font face="courier new">$x, $y, $z, $adres, $kullanici</font> birer scalar deðiþken adýdýr. Scalar deðiþkenlere deðer atama iþlemi de aþaðýdaki örneklerde görüldüðü gibi yapýlýr.

<p>
<ul>
<font face="courier new">
$sayi = 1;<br>
$isim = &quot;Sinan&quot;;<br>
$pi = 3.141592;<br>
</font>
</ul>

<p>
Deðiþkenleri kullanmadan önce tanýmlamanýza gerek yoktur. Ayrýca Perl deðiþkenleri program içinde tip de deðiþtirebilir. Ýþte bir örnek:

<p>
<ul>
<font face="courier new">
$sihir = 23;<br>
$sihir = "Sihirli sayýmýz $sihir";
</font>
</ul>

<p>
Bazý programlama dillerinin tersine Perl bu durumu kabul eder ve bir hata mesajý vermez.

<p>
Þimdi ilkscript.pl isimli scripti biraz deðiþtirelim ve birkaç deðiþken ekleyelim:

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<br>
$kursadi = &quot;CGI Programlama&quot;;<br>
print &quot;Merhaba. Adýn ne?\n&quot;;<br>
$siz = &lt;STDIN&gt;;<br>
chomp($siz);<br>
print &quot;Merhaba $siz. $kursadi kursuna hoþ geldiniz.\n&quot;;<br>
</font>
</ul>

<p>
Scripti kaydedin ve UNIX'te çalýþtýrýn. Program size isminizi soracak ve birþeyler yazýp enter'a basmanýzý bekleyecektir. Bu iþlem

<p>
<ul>
<font face="courier new">$siz = &lt;STDIN&gt;;</font>
</ul>

<p>
satýrý dolayýsýyla gerçekleþir. Yazdýðýnýz yazý <font face="courier new">$siz</font> deðiþkenine atanýr. Yazdýðýnýz yazýnýn sonundaki enter tuþunu simgeleyen &quot;Carriage Return&quot; karakteri aþaðýdaki komut satýrý ile silinir.

<p>
<ul>
<font face="courier new">chomp($siz);</font>
</ul>

<p>
Aþaðýdaki satýr iþletildiðinde deðiþkenlerin yerine atandýðý deðerler ekranýnýzda görünür. En sondaki <font face="courier new">\n</font> Per'de &quot;Carriage Return&quot; iþaretini temsil eder. Yani programa, yazýyý yazdýktan sonra enter'a basmasýný söyler.

<p>
<ul>
<font face="courier new">print &quot;Merhaba $siz. $kursadi kursuna hoþ geldiniz.\n&quot;;</font>
</ul>

<p>
<font color="green" size=5>Array Deðiþkenler<font color="black" size=2>

<p>
Array'ýn Türkçe karþýlýðý &quot;Dizi&quot;dir. Array deðiþkenler için deðerler listesi diyebiliriz. Scalar deðiþkenler tek bir deðer içermesine karþýn array deðiþkenler birden fazla deðer içerirler. Array deðiþken adlarýnýn baþýnda at iþareti (<font face="courier new">@</font>) bulunur. Ýþte bir örnek:

<p>
<ul>
<font face="courier new">@renkler = (&quot;sari&quot;,&quot;kirmizi&quot;,&quot;yesil&quot;);</font>
</ul>

Perl'de dizi indisleri 0'dan baþlar. Yani <font face="courier new">@renkler</font> dizisinin ilk elemanýný <font face="courier new">$renkler[0]</font> verir. <font face="courier new">@renkler</font> dizisinin tek bir elemanýnýn deðerini göstereceði zaman <font face="courier new">@</font> iþareti yerine <font face="courier new">$</font> iþareti kullanýlýr. <font face="courier new">$</font> iþareti tek bir deðeri, <font face="courier new">@</font> iþareti ise bütün diziyi kastettiðimiz anlamýna gelir.

<p>
Bir dizinin tüm elemanlarý þu þekilde yazdýrýlabilir:

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<p>
# bu bir açýklamadýr.<br>
# diyez (#) iþareti ile baþlayan bütün satýrlar açýklamadýr.<p>
@renkler = (&quot;sari&quot;,&quot;kirmizi&quot;,&quot;yesil&quot;);<p>
print &quot;$renkler[0]\n&quot;;<br>
print &quot;$renkler[1]\n&quot;;<br>
print &quot;$renkler[2]\n&quot;;
</font>
</ul>

<p>
Fakat elbette ki bunu yapmanýn daha kolay bir yolu var. <font face="courier new">foreach</font> yapýsý kullanýlarak dizileri rahatlýkla yazdýrabiliriz.

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<p>
# bu bir açýklamadýr.<br>
# diyez (#) iþareti ile baþlayan bütün satýrlar açýklamadýr.<p>
@renkler = (&quot;sari&quot;,&quot;kirmizi&quot;,&quot;yesil&quot;);<p>
foreach $i (@renkler) {<br>
   print &quot;$i\n&quot;;<br>
}
</font>
</ul>

<p>
<font face="courier new">foreach</font> döngüsünün her tekrarlanýþýnda <font face="courier new">$i</font> deðiþkenine <font face="courier new">@renkler</font> dizisinin bir elemaný atanýr. Ýlk tekrarda $i deðiþkeninin deðeri &quot;sari&quot;, ikinci tekrarda &quot;kirmizi&quot; ve üçüncü tekrarda &quot;yesil&quot; olur. <font face="courier new">{</font> ve <font face="courier new">}</font> parantezleri döngünün baþlangýç ve sonunu belirtir. Yani bu parantezler arasýnda kalan komutlar <font face="courier new">$i</font> deðiþkeninin bütün deðerleri için tekrarlanýr.

<h3>Dizi Fonksiyonlarý</h3>

Perl'de dizilere deðer atamayý ve dizilerden deðer okumayý kolaylaþtýran fonksiyonlar mevcuttur.

<p>
<ul>
<font face="courier new">
@renkler = (&quot;sari&quot;,&quot;kirmizi&quot;,&quot;yesil&quot;,&quot;mavi&quot;,&quot;turuncu&quot;,&quot;bordo&quot;);<p>
$ilkrenk = pop(@renkler);<br>
# $ilkrenk deðiþkenine @renkler dizisinin ilk deðeri olan &quot;sari&quot; atanýr.<p>
$sonrenk = shift(@renkler);<br>
# $sonrenk deðiþkenine @renkler dizisinin son deðeri olan &quot;bordo&quot; atanýr.
</font>
</ul>

<p>
Bir diziye deðer eklemek için <font face="courier new">push</font> fonksiyonu kullanýlýr:

<p>
<ul>
<font face="courier new">
push(@renkler,&quot;gri&quot;);<br>
# @renkler dizisinin sonuna &quot;gri&quot; ilave edilir.<p>
@yenirenkler = (&quot;lacivert&quot;,&quot;pembe&quot;);<p>
push(@renkler,@yenirenkler);<br>
# @yenirenkler dizisindeki deðerler @renkler dizisinin sonuna ilave edilir.<p>
</font>
</ul>

<p>
Dizilerle ilgili iþe yarayabilecek birkaç fonksiyon daha:

<p>
<ul>
<font face="courier new">
sort(@renkler);<br>
# @renkler dizisinin elemanlarýný alfabetik sýraya koyar.<p>
reverse(@renkler);<br>
# @renkler dizindeki elemanlarýn diziliþ sýrasýný ters çevirir.<p>
@join(&quot;, &quot;,@renkler);<br>
# @renkler dizisini elemanlarýn arasýnda &quot;, &quot;  olacak þekilde birleþtirir.<p>
$uzunluk = $#renkler;<br>
# $uzunluk deðiþkenine @renkler dizisinin uzunluðu atanýr.
</font>
</ul>

<p>
<font color="green" size=5>Hash Deðiþkenler<font color="black" size=2>

<p>
Hash deðiþkenleri Array deðiþkenlerin özel bir hali olarak düþünebiliriz. Hash deðiþken adlarýnýn baþýnda yüzde iþareti (<font face="courier new">%</font>) bulunur. Hash deðiþkenler öðe çiftlerinden oluþur: Anahtar ve Deðer. Aþaðýdaki örneði inceledikten sonra daha rahat anlayacaðýnýzý tahmin ediyorum:

<p>
<ul>
<table border="0" cellpadding="0" cellspacing="0">

<tr>
<td align="center" height="30"><font face="tahoma" size="2"><b>Deðiþken&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></font></td>
<td align="center"><font face="tahoma" size="2"><b>Anahtar&nbsp;&nbsp;&nbsp;&nbsp;</b></font></td>
<td align="center"><font face="tahoma" size="2"><b>Deðer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></font></td>
</tr>

<tr>
<td><font face="courier new" size="2">%sayfalar = (</font></td>
<td><font face="courier new" size="2">&quot;sinan&quot;,</font></td>
<td><font face="courier new" size="2">&quot;http://www.sinanilyas.com&quot;,</font></td>
</tr>

<tr>
<td><font face="courier new" size="2">&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;koray&quot;,</font></td>
<td><font face="courier new" size="2">&quot;http://cc.sau.edu.tr/~ktoksoz&quot;,</font></td>
</tr>

<tr>
<td><font face="courier new" size="2">&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;baris&quot;,</font></td>
<td><font face="courier new" size="2">&quot;http://turk.eu.org/uruzgar&quot;);</font></td>
</tr>

</table>
</ul>

<p>
Ayný Hash þu þekilde de tanýmlanabilir:

<p>
<ul>
<table border="0" cellpadding="0" cellspacing="0">

<tr>
<td><font face="courier new" size="2">%sayfalar = (</font></td>
<td><font face="courier new" size="2">&quot;sinan&quot; =>&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;http://www.sinanilyas.com&quot;,</font></td>
</tr>

<tr>
<td><font face="courier new" size="2">&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;koray&quot; =>&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;http://cc.sau.edu.tr/~ktoksoz&quot;,</font></td>
</tr>

<tr>
<td><font face="courier new" size="2">&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;baris&quot; =>&nbsp;</font></td>
<td><font face="courier new" size="2">&quot;http://turk.eu.org/uruzgar&quot;);</font></td>
</tr>

</table>
</ul>

<p>
<font face="courier new">%sayfalar</font> deðiþkeninde anahtar olarak kiþinin ismini, deðer olarak da web sayfasýnýn adresi saklanýr. Týpký Array'de olduðu gibi, bir Hash deðiþkenden tek bir deðer okunacaðý zaman <font face="courier new">$</font> iþareti kullanýlýr.

<p>
<ul>
<font face="courier new">print &quot;$sayfalar{'baris'}\n&quot;;</font>
</ul>

<p>
Yukarýdaki satýr Barýþ'ýn web sayfasýnýn adresini yazdýrýr. Eðer deðiþkendeki bütün deðerleri yazdýrmak istiyorsanýz bir <font face="courier new">foreach</font> döngüsü kullanabilirsiniz:

<p>
<ul>
<font face="courier new">
foreach $anahtar (keys %sayfalar) {<br>
&nbsp;&nbsp;&nbsp;print &quot;$anahtar'ýn web sayfasýnýn adresi: $sayfalar{$anahtar}\n&quot;;<br>
}
</font>
</ul>

<p>
Bu örnekte <font face="courier new">%sayfalar</font> deðiþkeninin anahtarlarýný öðrenebilmek için bir hash deðiþkeninin anahtarlarýný dizi olarak veren <font face="courier new">keys</font> fonksiyonu kullanýlmýþtýr. <font face="courier new">keys</font> fonksiyonunun tek bir dezavantajý vardýr: Anahtarlarý rastgele bir sýrayla vermesi. Yani bu örnekte kimin adresinin önce, kiminkinin sonra ekrana yazýlacaðý belli deðildir. Adresleri belli bir sýrayla yazdýrmak istiyorsanýz aþaðýda gösterildiði gibi <font face="courier new">foreach</font> döngüsünde anahtarlarý kendiniz yazmalýsýnýz.

<p>
<ul>
<font face="courier new">
foreach $anahtar (&quot;sinan&quot;,&quot;koray&quot;,&quot;baris&quot;) {<br>
&nbsp;&nbsp;&nbsp;print &quot;$anahtar'ýn web sayfasýnýn adresi: $sayfalar{$anahtar}\n&quot;;<br>
}
</font>
</ul>

<p>
Hash deðiþkenler formla gönderilen verileri ayýrmada çok iþimize yarayacak. Örneðin $form{'soyad'} bize formunuzdaki soyad kutucuðuna yazýlan deðeri verecek. Televizyoncularýn deyimiyle: &quot;AZ SONRA!&quot; :)

<p>
Neyse, biz yine iþimize bakalým ve adres listesi veren bir web sayfasý üreten yeni bir CGI scripti yazalým. Tabi ki Hash deðiþken kullanarak.

<p>
<ul>
<font face="courier new">
#!/usr/bin/perl<br>
<br>
%sayfalar = (&quot;sinan&quot; =&gt; &quot;http://www.sinanilyas.com&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;koray&quot; =&gt; &quot;http://cc.sau.edu.tr/~ktoksoz&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;baris&quot; =&gt; &quot;http://turk.eu.org/uruzgar&quot; );<br>
<br>
print &quot;Content-type:text/html\n\n&quot;;<br>
<br>
print &lt;&lt;IlkKisim;<br>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Adres Listesi&lt;/title&gt;&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;h2&gt;Adres Listesi&lt;/h2&gt;<br>
&lt;ul&gt;<br>
IlkKisim<br>
;<br>
<br>
foreach $anahtar (keys %sayfalar) {<br>
   print &quot;&lt;li&gt;&lt;a href=\&quot;$sayfalar{$anahtar}\&quot;&gt;$anahtar&lt;/a&gt;\n&quot;; <br>
}<br>
<br>
print &lt;&lt;SonKisim;<br>
&lt;/ul&gt;<br>
&lt;p&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
SonKisim<br>
;
</font>
</ul>

<p>
<img src="../grafik/ok-1.gif" width="13" height="15" align="absmiddle"> 
<a href="http://www.sinanilyas.com/cgi-bin/ornek/adreslistesi.cgi" target="ornek">Denemek için týklayýn</a>

<p>
Yukarýdaki scripti &quot;adreslistesi.cgi&quot; adýyla kaydedin ve çalýþtýrýlabilmesi için eriþim yetkilerini 755 olacak þekilde deðiþtirin. Sonra da web browser'ýnýzdan çaðýrýn. Açýlan sayfada isme týkladýðýnýz zaman o kiþinin web sayfasýnýn açýldýðýný göreceksiniz.

<p><div align="center">

<table border="0">
<tr><td>
<a href="bolum1.html">
Önceki Sayfa
</a>
</td><td>
<a href="index.html">
Konulara Dön
</a>
</td><td>
<a href="bolum3.html">
Sonraki Sayfa
</a>
</td></tr>
</table>
			<!-- Gövde metni sonu -->

			<p></p>
			

			<p style="text-align: center; font-size: 9px; margin-bottom: 0px;">
			&copy;1997-2005, <a href="http://www.sinanilyas.com/hakkimda" onmouseover="window.status='Özgeçmiþ'; return true;">Sinan ÝLYAS</a>
			</p>
		</td>
		<td style="background: url(/grafik/cerceve-sag.gif); width: 29px;"></td>
	</tr>
	<tr>
		<td style="background: url(/grafik/cerceve-sol-alt.gif); width:29px; height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-alt.gif); height: 29px;"></td>
		<td style="background: url(/grafik/cerceve-sag-alt.gif); width:29px; height: 29px;"></td>
	</tr>
</table>

</body>

</html>
